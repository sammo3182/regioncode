<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Yue Hu" />
<meta name="author" content="Xinyi Ye" />
<meta name="author" content="Wenquan Wu" />
<meta name="author" content="Yufei Sun" />

<meta name="date" content="2023-08-20" />

<title>regioncode: Convert Region Names and Division Codes of China Over Years</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">regioncode: Convert Region Names and
Division Codes of China Over Years</h1>
<h4 class="author">Yue Hu</h4>
<h4 class="author">Xinyi Ye</h4>
<h4 class="author">Wenquan Wu</h4>
<h4 class="author">Yufei Sun</h4>
<h4 class="date">2023-08-20</h4>



<p>Inspired by Vincent Arel-Bundock’s <a href="https://joss.theoj.org/papers/10.21105/joss.00848"><code>countrycode</code></a>
package, we created <code>regioncode</code>, a package to achieve
similar functions but specifically within China. <code>regioncode</code>
aims to enable seamlessly converting regions’ formal names, common-used
names, and administrative division codes between each other in modern
China (1986–2019).</p>
<div id="why-regioncode" class="section level2">
<h2>Why <code>regioncode</code>?</h2>
<p>The Chinese government gives unique geocodes for each county, city
(prefecture), and provincial-level administrative unit. These
“administrative division codes” are consistently <a href="http://www.mca.gov.cn/article/sj/xzqh/1980/">adjusted and
updated</a> to matched national and regional plans of development. The
adjustments however may disturb researchers when they conduct studies
over time or merge geo-based data from different years. Especially, when
researchers render statistical data on a Chinese map, different geocodes
between map data and statistical data can cause mess-up outputs.</p>
<p>This package aims to conquer such difficulties by a one-step
solution. In the current version, <code>regioncode</code> enables
seamlessly converting formal names, common-used names, language zone,
and division codes of Chinese provinces and prefectures between each
other and across thirty-four years from 1986 to 2019.</p>
</div>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p>To install:</p>
<ul>
<li>the latest released version:
<code>install.packages(&quot;regioncode&quot;)</code>.</li>
<li>the latest developing version:
<code>remotes::install_github(&quot;sammo3182/regioncode&quot;)</code>.</li>
</ul>
</div>
<div id="basic-usage" class="section level1">
<h1>Basic Usage</h1>
<p>We uses a randomly sample from the <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/9QZRAD"><code>China&#39;s Corruption Investigations Dataset</code></a>
to illustrate how the functions work.</p>
<p>In <code>regioncode</code> package, we named administrative division
codes as <code>code</code>, regions’ formal names as <code>name</code>,
and their commonly used abbreviation (“short name”) as
<code>sname</code>. The current version enables mutual conversion
between any pair of them. To do so, users just need to pass a character
vector of names or a numeric vector of geocodes into the function and
specify which type of the output they want in the argument
<code>convert_to</code> to gain the type of output of interest. In the
current version,three types of output are available:</p>
<ol style="list-style-type: decimal">
<li>Geocodes (<code>code</code>)</li>
<li>Names of the given cities/provinces (<code>name</code>)</li>
<li>Area the given cities/provinces belong (<code>area</code>, such as
华北, 东北, 华南, etc.).</li>
</ol>
<p>In the following example, the 2019 geocodes in the toy data to their
1989 version:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(regioncode)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;corruption&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co"># Original 2019 version</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>corruption<span class="sc">$</span>prefecture_id</span></code></pre></div>
<pre><code>##  [1] 370100 321200 310117 420500 451300 431200 350300 511500 469021 420600</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># 1989 version</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture_id, </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>           <span class="at">convert_to =</span> <span class="st">&quot;code&quot;</span>, <span class="co"># default set</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co"># tibble(</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#   code2019 = corruption$prefecture_id,</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#   code1989 = regioncode(data_input = corruption$prefecture_id, </span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#            convert_to = &quot;code&quot;, # default set</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#            year_from = 2019,</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#            year_to = 1989),</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#   name1989 = regioncode(data_input = corruption$prefecture_id, </span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#            convert_to = &quot;name&quot;, # default set</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#            year_from = 2019,</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#            year_to = 1989)</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co"># )</span></span></code></pre></div>
<p>Note that if a region was initially geocoded in e.g., 1989 and
included in a new region, in 2019, the new region geocode will be used
hereafter. If a big place was broken into several regions, the
later-year codes will be aligned with the first region according to the
ascendant order of the regions’ numeric geocodes.</p>
<p>By altering the output format to <code>name</code>, one can easily
convert codes or region names of a given year to region names in another
year. <code>regioncode</code> automatically detects the input format, so
users need to specify the <em>output</em> format only (together with the
input and output years) to gain what they want. In the following
example, we convert the geocode variable in the <code>corruption</code>
dataset to region names and the name variable to codes and names in
another year.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># The original name</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>corruption<span class="sc">$</span>prefecture</span></code></pre></div>
<pre><code>##  [1] &quot;济南市&quot; &quot;泰州市&quot; &quot;松江区&quot; &quot;宜昌市&quot; &quot;来宾市&quot; &quot;怀化市&quot; &quot;莆田市&quot; &quot;宜宾市&quot;
##  [9] &quot;定安县&quot; &quot;襄阳市&quot;</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Codes to name</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture_id, </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>           <span class="at">convert_to =</span> <span class="st">&quot;name&quot;</span>,</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;济南市&quot;   &quot;泰州市&quot;   &quot;松江县&quot;   &quot;宜昌市&quot;   &quot;柳州地区&quot; &quot;怀化地区&quot;
##  [7] &quot;莆田市&quot;   &quot;宜宾地区&quot; &quot;定安县&quot;   &quot;襄樊市&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Name to codes of the same year</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>           <span class="at">convert_to =</span> <span class="st">&quot;code&quot;</span>,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">2019</span>)</span></code></pre></div>
<pre><code>##  [1] 370100 321200 310117 420500 451300 431200 350300 511500 469021 420600</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Name to name of a different year</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>           <span class="at">convert_to =</span> <span class="st">&quot;name&quot;</span>,</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;济南市&quot;   &quot;泰州市&quot;   &quot;松江县&quot;   &quot;宜昌市&quot;   &quot;柳州地区&quot; &quot;怀化地区&quot;
##  [7] &quot;莆田市&quot;   &quot;宜宾地区&quot; &quot;定安县&quot;   &quot;襄樊市&quot;</code></pre>
</div>
<div id="advanced-applications" class="section level1">
<h1>Advanced Applications</h1>
<p>To further help uses with “messier” data and diverse demands,
<code>regioncode</code> provides five special conversions: conversion
from data with incomplete data, specification of municipalities,
conversion sociopolitical areas and linguistic areas, and pinyin output.
The current version also allows conversions at the provincial level.</p>
<div id="incomplete-naming-prefectures." class="section level2">
<h2>Incomplete naming prefectures.</h2>
<p>More than often, data codes may omit the administrative level when
recording geo-information, e.g., using “北京” instead of “北京市.” To
accomplish conversions of such data, one needs to specify the
<code>incomplete_name</code> argument. If the input data is incomplete,
users should set the argument as “from”; if they want the output name
(when <code>convert_to = &quot;name&quot;</code>) to be without “city” or
“prefecture,” they can set the argument to “to” (see the example below);
and if users want to gain incomplete names for both input and output
names, <code>incomplete_name = &quot;both&quot;</code>. All the above conversions
can be over years.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Full, official names</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>corruption<span class="sc">$</span>prefecture</span></code></pre></div>
<pre><code>##  [1] &quot;济南市&quot; &quot;泰州市&quot; &quot;松江区&quot; &quot;宜昌市&quot; &quot;来宾市&quot; &quot;怀化市&quot; &quot;莆田市&quot; &quot;宜宾市&quot;
##  [9] &quot;定安县&quot; &quot;襄阳市&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>           <span class="at">convert_to =</span> <span class="st">&quot;name&quot;</span>,</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>,</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>           <span class="at">incomplete_name =</span> <span class="st">&quot;to&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;济南&quot; &quot;泰州&quot; &quot;松江&quot; &quot;宜昌&quot; &quot;柳州&quot; &quot;怀化&quot; &quot;莆田&quot; &quot;宜宾&quot; &quot;定安&quot; &quot;襄樊&quot;</code></pre>
</div>
<div id="municipalities" class="section level2">
<h2>Municipalities</h2>
<p>Municipalities (“直辖市”) are geographically cities but
administratively provincial. The districts within these municipalities
are thus prefectural. Different analyses treat these districts
differently: some parallel the districts aligned with other prefectures,
while the others treat the entire municipality as one prefecture. To
deal with the latter situation, <code>regioncode</code> sets an argument
<code>zhixiashi</code>. When the argument is set <code>TRUE</code>, the
municipalities are treated as whole prefectures, and their provincial
codes are used as the geocodes.</p>
</div>
<div id="sociopolitical-and-linguistic-areas" class="section level2">
<h2>Sociopolitical and Linguistic Areas<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></h2>
<p>Due to social, political, and martial reasons, Chinese regions are
divided into seven regions:</p>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">region</th>
<th>provincial-level administrative unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">华北</td>
<td>北京市, 天津市, 山西省, 河北省, 内蒙古自治区</td>
</tr>
<tr class="even">
<td align="left">东北</td>
<td>黑龙江省, 吉林省, 辽宁省</td>
</tr>
<tr class="odd">
<td align="left">华东</td>
<td>上海市, 江苏省, 浙江省, 安徽省, 福建省, 台湾省, 江西省, 山东省</td>
</tr>
<tr class="even">
<td align="left">华中</td>
<td>河南省, 湖北省, 湖南省</td>
</tr>
<tr class="odd">
<td align="left">华南</td>
<td>广东省, 海南省, 广西壮族自治区, 香港特别行政区, 澳门特别行政区</td>
</tr>
<tr class="even">
<td align="left">西南</td>
<td>重庆市, 四川省, 贵州省, 云南省, 西藏自治区</td>
</tr>
<tr class="odd">
<td align="left">西北</td>
<td>陕西省, 甘肃省, 青海省, 宁夏回族自治区, 新疆维吾尔自治区</td>
</tr>
</tbody>
</table>
<p><code>regioncode</code> also offers a method “area” to convert codes
and names of the region into such areas.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>, </span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>           <span class="at">convert_to=</span><span class="st">&quot;area&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;华东&quot; &quot;华东&quot; &quot;华东&quot; &quot;华中&quot; &quot;华南&quot; &quot;华中&quot; &quot;华东&quot; &quot;西南&quot; &quot;华南&quot; &quot;华中&quot;</code></pre>
<p>China is a multilingual country with a variety of dialects. These
dialects may be used by several prefectures in a province or province.
Prefectures from different provinces may also share the same
dialect.</p>
<p><code>regioncode</code> allows users to gain linguistic zones the
prefectures belong as an output. Users can gain two levels of linguistic
zones, dialect groups and dialect sub-groups by setting the argument
<code>to_pinyin</code> to <code>dia_group</code> or
<code>dia_sub_group</code>. Note that, the linguistic distribution in
China is too complex for precisely gauging at the prefectural level. The
linguistic zone output from <code>regioncode</code> is thus at most for
reference rather than rigorous linguistic research.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>,</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>           <span class="at">to_dialect =</span> <span class="st">&quot;dia_group&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;冀鲁官话&quot; &quot;江淮官话&quot; &quot;吴语&quot;     &quot;西南官话&quot; &quot;西南官话&quot; &quot;湘语&quot;    
##  [7] &quot;莆仙区&quot;   &quot;西南官话&quot; &quot;琼文区&quot;   &quot;西南官话&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>,</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>           <span class="at">to_dialect =</span> <span class="st">&quot;dia_sub_group&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;沧惠片-1,石济片-8&quot;                           
##  [2] &quot;泰如片-1&quot;                                    
##  [3] &quot;太湖片-1&quot;                                    
##  [4] &quot;成渝片-3,成渝片-9&quot;                           
##  [5] &quot;桂柳片-10&quot;                                   
##  [6] &quot;岑江片-2,吉溆片-3,娄邵片-1,黔北片-3,长益片-3&quot;
##  [7] &quot;莆仙区-4&quot;                                    
##  [8] &quot;灌赤片-10&quot;                                   
##  [9] &quot;府城片-1&quot;                                    
## [10] &quot;鄂北片-10&quot;</code></pre>
</div>
<div id="city-ranking" class="section level2">
<h2>City ranking</h2>
<p><code>regioncode</code> provides a feature to query the ranking of
cities, which has two standards: the old criteria from 1989 and the new
criteria from 2014. Therefore, the old criteria is used for cities
before 2014, while the new criteria is used for cities after 2014.</p>
<table>
<thead>
<tr class="header">
<th align="left">criteria</th>
<th>population rank</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">old criteria(1989)</td>
<td>&gt;1 million</td>
<td>超大城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>500,000 ~ 1 million</td>
<td>大城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>200,000 ~ 500,000</td>
<td>中等城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>&lt;200,000</td>
<td>小城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">new criteria(2014)</td>
<td>&gt;10 million</td>
<td>超大城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>5 million ~ 10 million</td>
<td>特大城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>3 million ~ 5 million</td>
<td>I型大城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>1 million ~ 3 million</td>
<td>II型大城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>500,000 ~ 1 million</td>
<td>中等城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>200,000 ~ 500,000</td>
<td>I型小城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>&lt;200,000</td>
<td>II型小城市</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>tidyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>  <span class="at">preference =</span> corruption<span class="sc">$</span>prefecture,</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>  <span class="at">rank =</span> <span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2011</span>,</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>, </span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>           <span class="at">convert_to=</span><span class="st">&quot;rank&quot;</span>)</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    preference rank    
##    &lt;chr&gt;      &lt;chr&gt;   
##  1 济南市     特大城市
##  2 泰州市     小城市  
##  3 松江区     特大城市
##  4 宜昌市     中等城市
##  5 来宾市     &lt;NA&gt;    
##  6 怀化市     小城市  
##  7 莆田市     小城市  
##  8 宜宾市     中等城市
##  9 定安县     &lt;NA&gt;    
## 10 襄阳市     中等城市</code></pre>
</div>
<div id="pinyin" class="section level2">
<h2>Pinyin<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></h2>
<p>Pinyin is a Chinese phonetic romanization. Some data stores the
region names with pinyin instead of Chinese characters. The default name
output of <code>regioncode</code> uses Chinese characters, but one can
gain pinyin output by setting the argument
<code>to_pinyin = TRUE</code>. The effect can be applied to either
official name, incomplete name, or sociopolitical area outputs.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>, </span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>           <span class="at">convert_to=</span><span class="st">&quot;name&quot;</span>,</span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>           <span class="at">to_pinyin=</span><span class="cn">TRUE</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>           )</span></code></pre></div>
<pre><code>##  [1] &quot;ji_nan_shi&quot;      &quot;tai_zhou_shi&quot;    &quot;song_jiang_xian&quot; &quot;yi_chang_shi&quot;   
##  [5] &quot;liu_zhou_di_qu&quot;  &quot;huai_hua_di_qu&quot;  &quot;pu_tian_shi&quot;     &quot;yi_bin_di_qu&quot;   
##  [9] &quot;ding_an_xian&quot;    &quot;xiang_fan_shi&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>, </span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>           <span class="at">convert_to=</span><span class="st">&quot;name&quot;</span>,</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>           <span class="at">incomplete_name =</span> <span class="st">&quot;to&quot;</span>,</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>           <span class="at">to_pinyin=</span><span class="cn">TRUE</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>           )</span></code></pre></div>
<pre><code>##  [1] &quot;ji_nan&quot;     &quot;tai_zhou&quot;   &quot;song_jiang&quot; &quot;yi_chang&quot;   &quot;liu_zhou&quot;  
##  [6] &quot;huai_hua&quot;   &quot;pu_tian&quot;    &quot;yi_bin&quot;     &quot;ding_an&quot;    &quot;xiang_fan&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>prefecture, </span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>, </span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>           <span class="at">convert_to=</span><span class="st">&quot;area&quot;</span>,</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>           <span class="at">to_pinyin=</span><span class="cn">TRUE</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>           )</span></code></pre></div>
<pre><code>##  [1] &quot;hua_dong&quot;  &quot;hua_dong&quot;  &quot;hua_dong&quot;  &quot;hua_zhong&quot; &quot;hua_nan&quot;   &quot;hua_zhong&quot;
##  [7] &quot;hua_dong&quot;  &quot;xi_nan&quot;    &quot;hua_nan&quot;   &quot;hua_zhong&quot;</code></pre>
</div>
<div id="provinces" class="section level2">
<h2>Provinces</h2>
<p><code>regioncode</code> allows conversions at not only the
prefectural but provincial level. By setting the argument
<code>province = TRUE</code>, users can accomplish all the code, name,
and area conversions at the provincial level. (Note that, at the
provincial level, the linguistic conversion can be only to dialect
group.) Moreover, since provinces have fixed abbreviations,
<code>regioncode</code> allows names not only being, e.g., “宁夏”
instead of “宁夏回族自治区” but also “宁”. When the inputs are
abbreviations, users can set the <code>convert_to</code> argument to
<code>abbreTocode</code>, <code>abbreToname</code>, or
<code>abbreToarea</code>. When they want provincial abbreviation
outputs, just set <code>convert_to = &quot;abbre&quot;</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="fu">regioncode</span>(<span class="at">data_input =</span> corruption<span class="sc">$</span>province_id, </span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>           <span class="at">convert_to =</span> <span class="st">&quot;codeToabbre&quot;</span>,</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>           <span class="at">year_from =</span> <span class="dv">2019</span>,</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>           <span class="at">year_to =</span> <span class="dv">1989</span>,</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>           <span class="at">province =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;鲁&quot; &quot;苏&quot; &quot;沪&quot; &quot;鄂&quot; &quot;桂&quot; &quot;湘&quot; &quot;闽&quot; &quot;蜀&quot; &quot;琼&quot; &quot;鄂&quot;</code></pre>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p><code>regioncode</code> provides a convenient way to convert Chinese
administrative division codes, official names, sociopolitical and
linguistic areas, abbreviations, and so on between each other. This
vignette offers a quick view of package features and a short tutorial
for users.</p>
<p>The development of the package is ongoing. Future versions aim to add
more administrative level choices, from province level to county level.
Data are also enriching. Welcome to join us if you are also interested
(see the affiliations below). Please contact us with any questions or
comments. Bug reports can be conducted by <a href="https://github.com/sammo3182/regioncode/issues">Github
Issues</a>.</p>
<p>We appreciate the efforts of SHI Yuyang, XU Yujia, TIAN Haiting, SHAO
Weihang, CHEN Yuanqian, and LI Ruizhe’s on data collection and function
editing of this package.</p>
</div>
<div id="affiliation" class="section level2">
<h2>Affiliation</h2>
<p>Dr. Yue Hu</p>
<p>Department of Political Science,<br />
Tsinghua University,<br />
Email: <a href="mailto:yuehu@tsinghua.edu.cn" class="email">yuehu@tsinghua.edu.cn</a><br />
Website: <a href="https://sammo3182.github.io" class="uri">https://sammo3182.github.io</a></p>
<p>Xinyi Ye</p>
<p>Department of Political Science,<br />
Tsinghua University,<br />
Email: <a href="mailto:yexinyi98@outlook.com" class="email">yexinyi98@outlook.com</a></p>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>Thanks ZHU Meng’s contribution to this function.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Thanks Liu Xueyan’s contribution to this function.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
