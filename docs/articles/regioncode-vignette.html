<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>regioncode: One-Step Solution for Chinese Region Conversions • regioncode</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="regioncode: One-Step Solution for Chinese Region Conversions">
<meta property="og:description" content="regioncode">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">regioncode</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/regioncode-vignette.html">regioncode: One-Step Solution for Chinese Region Conversions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sammo3182/regioncode/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>regioncode: One-Step Solution for Chinese Region
Conversions</h1>
                        <h4 data-toc-skip class="author">HU Yue, YE
Xinyi</h4>
            
            <h4 data-toc-skip class="date">2024-03-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sammo3182/regioncode/blob/HEAD/vignettes/regioncode-vignette.Rmd" class="external-link"><code>vignettes/regioncode-vignette.Rmd</code></a></small>
      <div class="hidden name"><code>regioncode-vignette.Rmd</code></div>

    </div>

    
    
<p>The term “city” in China encompasses a multifaceted concept. It may
denote a county-level, prefectural, or provincial administrative unit.
Scholars focusing on China often encounter frustration in converting
these names or corresponding geocodes, particularly when handling data
spanning multiple years. This complexity further arises due to periodic
modifications or cancellations of some unit’s name by the central
government <span class="citation">(国家统计局 2022a)</span>.</p>
<p>Inspired by Vincent Arel-Bundock’s <a href="https://joss.theoj.org/papers/10.21105/joss.00848" class="external-link"><code>countrycode</code></a>
package, we developed <code>regioncode</code>. This package aims to
perform similar functions but is tailored specifically for region
name/code conversions within China for the period 1986–2019.</p>
<div class="section level2">
<h2 id="why-regioncode">Why <code>regioncode</code>?<a class="anchor" aria-label="anchor" href="#why-regioncode"></a>
</h2>
<p>The Chinese government assigns unique geocodes to each county, city
(prefecture), and provincial-level administrative unit. These
“administrative division codes” are consistently <a href="http://www.mca.gov.cn/article/sj/xzqh/1980/" class="external-link">adjusted and
updated</a> to align with national and regional development plans <span class="citation">(民政部 2022)</span>. However, these adjustments may
pose challenges for researchers conducting longitudinal studies or
merging geo-based data from different years. For instance,
inconsistencies between map data and statistical data can result in
erroneous outputs when rendering statistical data on a Chinese map.</p>
<p><em>A One-Step Solution: <code>regioncode</code></em></p>
<p><code>regioncode</code> offers a one-step solution to these
challenges. In its current version, it enables seamless conversion of
formal names, commonly used names, and administrative division codes of
Chinese provinces and prefectures between each other, covering a span of
thirty-four years from 1986 to 2019.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install:</p>
<ul>
<li>The latest released version:
<code>install.packages("regioncode")</code>.</li>
<li>The latest developing version:
<code>remotes::install_github("sammo3182/regioncode")</code>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>We demonstrate the basic application of <code>regioncode</code> with
a toy data randomly sampled from <span class="citation">Wang
(2020)</span>’s China’s Corruption Investigations Dataset. In the
<code>regioncode</code> field, administrative division codes are denoted
as <code>code</code>, and the formal names of regions are referred to as
<code>name</code>. The current version facilitates the mutual conversion
between any pair of these elements. Users merely need to input a
character vector of names or a numeric vector of geocodes into the
function, specifying the desired output type with the
<code>convert_to</code> argument.</p>
<p>The following example illustrates the conversion of 2019 geocodes in
the sample data to their 1989 version. It is essential for users to
correctly set the <code>year_from</code> argument to reference the
appropriate year. Subsequently, the <code>year_to</code> and
<code>convert_to</code> arguments can be used to determine the desired
year’s projection and the format type.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">regioncode</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"corruption"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Conversion to the 1989 version</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"code"</span>, <span class="co"># default setting</span></span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] 370100 329001 310227 420500 452200 433000 350300 512500 460025 420600</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Comparison</span></span>
<span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  code2019 <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>,</span>
<span>  code1989 <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>,</span>
<span>           convert_to <span class="op">=</span> <span class="st">"code"</span>, <span class="co"># default setting</span></span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span><span class="op">)</span>,</span>
<span>  name2019 <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>,</span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>, <span class="co"># default setting</span></span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span>,</span>
<span>  name1989 <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>,</span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>, <span class="co"># default setting</span></span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 4</span></span></span>
<span><span class="co">##    code2019 code1989 name2019 name1989</span></span>
<span><span class="co">##       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>   <span style="text-decoration: underline;">370</span>100   <span style="text-decoration: underline;">370</span>100 济南市   济南市  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>   <span style="text-decoration: underline;">321</span>200   <span style="text-decoration: underline;">329</span>001 泰州市   泰州市  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>   <span style="text-decoration: underline;">310</span>117   <span style="text-decoration: underline;">310</span>227 松江区   松江县  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>   <span style="text-decoration: underline;">420</span>500   <span style="text-decoration: underline;">420</span>500 宜昌市   宜昌市  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>   <span style="text-decoration: underline;">451</span>300   <span style="text-decoration: underline;">452</span>200 来宾市   柳州地区</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>   <span style="text-decoration: underline;">431</span>200   <span style="text-decoration: underline;">433</span>000 怀化市   怀化地区</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>   <span style="text-decoration: underline;">350</span>300   <span style="text-decoration: underline;">350</span>300 莆田市   莆田市  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>   <span style="text-decoration: underline;">511</span>500   <span style="text-decoration: underline;">512</span>500 宜宾市   宜宾地区</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>   <span style="text-decoration: underline;">469</span>021   <span style="text-decoration: underline;">460</span>025 定安县   定安县  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>   <span style="text-decoration: underline;">420</span>600   <span style="text-decoration: underline;">420</span>600 襄阳市   襄樊市</span></span></code></pre>
<p>Note that if a region was initially geocoded in, for example, 1989
and later included in a new region in 2019, the new region geocode will
be subsequently used. If a large area was divided into several regions,
the later-year codes will align with the first region according to the
ascending order of the regions’ numeric geocodes.</p>
<p>In the current version, <code>regioncode</code> automatically
identifies the input format: numerics for geocodes and characters for
names. The following example demonstrates the conversions from various
types of input to alternative formats of outputs:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Original name</span></span>
<span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>,</span>
<span>  name <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 2</span></span></span>
<span><span class="co">##        id name  </span></span>
<span><span class="co">##     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">370</span>100 济南市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">321</span>200 泰州市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">310</span>117 松江区</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">420</span>500 宜昌市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">451</span>300 来宾市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">431</span>200 怀化市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">350</span>300 莆田市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">511</span>500 宜宾市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">469</span>021 定安县</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">420</span>600 襄阳市</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Codes to name</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture_id</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "济南市"   "泰州市"   "松江县"   "宜昌市"   "柳州地区" "怀化地区"</span></span>
<span><span class="co">##  [7] "莆田市"   "宜宾地区" "定安县"   "襄樊市"</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Name to codes of the same year</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"code"</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] 370100 321200 310117 420500 451300 431200 350300 511500 469021 420600</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Name to name of a different year</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "济南市"   "泰州市"   "松江县"   "宜昌市"   "柳州地区" "怀化地区"</span></span>
<span><span class="co">##  [7] "莆田市"   "宜宾地区" "定安县"   "襄樊市"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="advanced-applications">Advanced Applications<a class="anchor" aria-label="anchor" href="#advanced-applications"></a>
</h2>
<p>The <code>regioncode</code> package also offers specialized
conversion functions to assist users with more complex data and diverse
requirements, including:</p>
<ol style="list-style-type: decimal">
<li>Conversion from/to incomplete names.</li>
<li>Different handling of municipalities.</li>
<li>Return of population-based city ranks.</li>
<li>Return of pinyin format of outputs.</li>
<li>Conversion of provincial data.</li>
<li>Return of administrative areas.</li>
<li>Return of linguistic zones.</li>
</ol>
<div class="section level3">
<h3 id="incomplete-naming-of-prefectures">Incomplete Naming of Prefectures<a class="anchor" aria-label="anchor" href="#incomplete-naming-of-prefectures"></a>
</h3>
<p>Frequently, data codes may exclude the administrative level when
recording geographical information, such as “北京” instead of “北京市,”
or “内蒙” instead of “内蒙古自治区” referred to as “incomplete names.”
To execute conversions for such data, one can specify the
<code>incomplete_name</code> argument to “TRUE.” As long as there are
two characters that can help to identify the city or province,
<code>regioncode</code> can conduct the conversion. In the following
example, we randomly removed 70% of the input city names to incomplete
names and show how <code>regioncode</code> can deal with such
problems:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Original full names</span></span>
<span><span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "济南市" "泰州市" "松江区" "宜昌市" "来宾市" "怀化市" "莆田市" "宜宾市"</span></span>
<span><span class="co">##  [9] "定安县" "襄阳市"</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fake_incomplete</span> <span class="op">&lt;-</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span></span>
<span></span>
<span><span class="va">index_incomplete</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span><span class="op">)</span><span class="op">)</span>, <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fake_incomplete</span><span class="op">[</span><span class="va">index_incomplete</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">fake_incomplete</span><span class="op">[</span><span class="va">index_incomplete</span><span class="op">]</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fake_incomplete</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "济南"   "泰州市" "松江区" "宜昌"   "来宾"   "怀化"   "莆田市" "宜宾"  </span></span>
<span><span class="co">##  [9] "定安"   "襄阳"</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Conversion to full names in 2008</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">fake_incomplete</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2008</span>,</span>
<span>           incomplete_name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "济南市" "泰州市" "松江区" "宜昌市" "来宾市" "怀化市" "莆田市" "宜宾市"</span></span>
<span><span class="co">##  [9] "定安县" "襄樊市"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="municipalities">Municipalities<a class="anchor" aria-label="anchor" href="#municipalities"></a>
</h3>
<p>Municipalities (“直辖市”) in China are geographically cities but
administratively provincial. Different geographic data may categorize
them differently. Some data may treat municipalities as equivalent to
prefectures.</p>
<p>To convert this type of data, <code>regioncode</code> introduces a
specific argument <code>zhixiashi</code>. The default value is “FALSE,”
treating municipalities as provinces. When set to “TRUE,” municipalities
are considered as prefectures, and their provincial codes are utilized
as geocodes.</p>
<p>The following example illustrates the municipalities identifier with
a mixed string of names of municipalities, their districts, and a
prefecture:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">names_municipality</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"北京市"</span>, <span class="co"># Beijing, a municipality</span></span>
<span>                        <span class="st">"海淀区"</span>, <span class="co"># A district of Beijing</span></span>
<span>                        <span class="st">"上海市"</span>, <span class="co"># Shanghai, a municipality</span></span>
<span>                        <span class="st">"静安区"</span>, <span class="co"># A district of Shanghai</span></span>
<span>                        <span class="st">"济南市"</span><span class="op">)</span> <span class="co"># A prefecture of Shandong</span></span>
<span></span>
<span><span class="co"># When `zhixiashi` is FALSE, only the districts are recognized</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">names_municipality</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2019</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"code"</span>,</span>
<span>           zhixiashi <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]     NA 110108     NA 310106 370100</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># When `zhixiashi` is TRUE, municipalities are recognized</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">names_municipality</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           convert_to <span class="op">=</span> <span class="st">"code"</span>,</span>
<span>           zhixiashi <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 110000 110108 310000 310106 370100</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="city-ranking">City Ranking<a class="anchor" aria-label="anchor" href="#city-ranking"></a>
</h3>
<p>The <em>Statistical Yearbook of Urban and Rural Construction</em>
classifies Chinese cities into different levels, largely based on their
populations <span class="citation">(国家统计局 2022b)</span>. From 1989
to 2014, there were four levels of cities, and the system expanded to a
7-level scale after 2014, as detailed in the following table:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Criterion</th>
<th>Population</th>
<th>Rank</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Old (1989)</td>
<td>&gt; 1 million</td>
<td>超大城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>500,000 ~ 1 million</td>
<td>大城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>200,000 ~ 500,000</td>
<td>中等城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>&lt; 200,000</td>
<td>小城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">New (2014)</td>
<td>&gt; 10 million</td>
<td>超大城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>5 million ~ 10 million</td>
<td>特大城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>3 million ~ 5 million</td>
<td>I型大城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>1 million ~ 3 million</td>
<td>II型大城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>500,000 ~ 1 million</td>
<td>中等城市</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>200,000 ~ 500,000</td>
<td>I型小城市</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>&lt; 200,000</td>
<td>II型小城市</td>
</tr>
</tbody>
</table>
<p>The <code>regioncode</code> function can return the rank of cities
according to their populations for a given year. If the population is
untraceable, the rank will be marked as <code>NA</code>. Users simply
need to set <code>convert_to = "rank"</code> to perform the conversion.
For regions in and before 1989, the old ranking system is applied. For
other region-years, the function will return the new ranks. For some
cities, we cannot find their populations from the official sources. The
<code>rank</code> of them will be <code>NA</code>.</p>
<p>The following example compares the ranks from the same input in
different years:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>,</span>
<span>  rank1989 <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>, </span>
<span>           convert_to<span class="op">=</span><span class="st">"rank"</span><span class="op">)</span>,</span>
<span>  rank2014 <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2014</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"rank"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 3</span></span></span>
<span><span class="co">##    city   rank1989 rank2014  </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 济南市 特大城市 I型大城市 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 泰州市 小城市   II型大城市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 松江区 特大城市 超大城市  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 宜昌市 中等城市 II型大城市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 来宾市 <span style="color: #BB0000;">NA</span>       中等城市  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 怀化市 小城市   I型小城市 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 莆田市 小城市   II型大城市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 宜宾市 中等城市 II型大城市</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 定安县 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 襄阳市 中等城市 II型大城市</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="pinyin">Pinyin<a class="anchor" aria-label="anchor" href="#pinyin"></a>
</h3>
<p>Pinyin is a phonetic romanization of Chinese characters. Some data
may store region names in pinyin instead of Chinese characters. The
default name output of <code>regioncode</code> is in Chinese characters.
However, thanks to Peng Zhao and Qu Cheng’s <a href="https://github.com/pzhaonet/pinyin" class="external-link">pinyin</a> package, users can
now obtain pinyin format output from the <code>regioncode</code>
function by setting the argument <code>to_pinyin = TRUE</code>. This
function also corrects the romanization output for areas with special
spellings, such as Shanxi vs. Shaanxi, Inner Mongolia, and special
administrative regions. It works for official names, incomplete names,
and administrative area outputs. The following example demonstrates how
this function operates on various demands:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>,</span>
<span>  cityPY <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>           to_pinyin <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>           <span class="op">)</span>,</span>
<span>  areaPY <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"area"</span>,</span>
<span>           to_pinyin <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>           <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 3</span></span></span>
<span><span class="co">##    city   cityPY     areaPY   </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 济南市 ji_nan     hua_dong </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 泰州市 tai_zhou   hua_dong </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 松江区 song_jiang hua_dong </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 宜昌市 yi_chang   hua_zhong</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 来宾市 liu_zhou   hua_nan  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 怀化市 huai_hua   hua_zhong</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 莆田市 pu_tian    hua_dong </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 宜宾市 yi_bin     xi_nan   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 定安县 ding_an    hua_nan  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 襄阳市 xiang_fan  hua_zhong</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Regions with special spelling</span></span>
<span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"山西"</span>, <span class="st">"陕西"</span>, <span class="st">"内蒙古"</span>, <span class="st">"香港"</span>, <span class="st">"澳门"</span><span class="op">)</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">2008</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>           incomplete_name <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           province <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>           to_pinyin <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>           <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##             山西                                                    </span></span>
<span><span class="co">##        "shan_xi"       "shaan_xi" "inner_mongolia"      "hong_kong" </span></span>
<span><span class="co">##                  </span></span>
<span><span class="co">##          "macao"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="provinces">Provinces<a class="anchor" aria-label="anchor" href="#provinces"></a>
</h3>
<p>The <code>regioncode</code> function also supports conversions at the
provincial level. By setting the argument <code>province = TRUE</code>,
users can convert all geocodes and names at this level. Chinese
provinces have abbreviations, and when the converted data only contain
abbreviations, users can set the <code>convert_to</code> argument to
<code>abbreTocode</code>, <code>abbreToname</code>, or
<code>abbreToarea</code> to obtain the desired data types. To receive
abbreviation outputs, simply set <code>convert_to = "abbre"</code>.</p>
<p>The following example demonstrates the conversion of a vector of
province geocodes to their official names and abbreviations:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  province <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">province_id</span>,</span>
<span>  prov_name <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">province_id</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>,</span>
<span>           province <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  prov_abbre <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">province_id</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"codeToabbre"</span>,</span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>,</span>
<span>           province <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 3</span></span></span>
<span><span class="co">##    province prov_name      prov_abbre</span></span>
<span><span class="co">##       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>   <span style="text-decoration: underline;">370</span>000 山东省         鲁        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>   <span style="text-decoration: underline;">320</span>000 江苏省         苏        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>   <span style="text-decoration: underline;">310</span>000 上海市         沪        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>   <span style="text-decoration: underline;">420</span>000 湖北省         鄂        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>   <span style="text-decoration: underline;">450</span>000 广西壮族自治区 桂        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>   <span style="text-decoration: underline;">430</span>000 湖南省         湘        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>   <span style="text-decoration: underline;">350</span>000 福建省         闽        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>   <span style="text-decoration: underline;">510</span>000 四川省         蜀        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>   <span style="text-decoration: underline;">460</span>000 海南省         琼        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>   <span style="text-decoration: underline;">420</span>000 湖北省         鄂</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="geographic-units-beyond-provinces">Geographic Units Beyond Provinces<a class="anchor" aria-label="anchor" href="#geographic-units-beyond-provinces"></a>
</h3>
<p>The current version of <code>regioncode</code> encompasses two types
of region conversion beyond the provincial level: administrative area
and linguistic zones.</p>
<div class="section level4">
<h4 id="administrative-area">Administrative Area<a class="anchor" aria-label="anchor" href="#administrative-area"></a>
</h4>
<p>Chinese regions are divided into seven areas for social, political,
and martial reasons <span class="citation">(孙平 2020)</span>:</p>
<table class="table">
<colgroup>
<col width="11%">
<col width="88%">
</colgroup>
<thead><tr class="header">
<th align="left">Region</th>
<th>Provincial-level Administrative Unit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">华北</td>
<td>北京市, 天津市, 山西省, 河北省, 内蒙古自治区</td>
</tr>
<tr class="even">
<td align="left">东北</td>
<td>黑龙江省, 吉林省, 辽宁省</td>
</tr>
<tr class="odd">
<td align="left">华东</td>
<td>上海市, 江苏省, 浙江省, 安徽省, 福建省, 台湾省, 江西省, 山东省</td>
</tr>
<tr class="even">
<td align="left">华中</td>
<td>河南省, 湖北省, 湖南省</td>
</tr>
<tr class="odd">
<td align="left">华南</td>
<td>广东省, 海南省, 广西壮族自治区, 香港特别行政区, 澳门特别行政区</td>
</tr>
<tr class="even">
<td align="left">西南</td>
<td>重庆市, 四川省, 贵州省, 云南省, 西藏自治区</td>
</tr>
<tr class="odd">
<td align="left">西北</td>
<td>陕西省, 甘肃省, 青海省, 宁夏回族自治区, 新疆维吾尔自治区</td>
</tr>
</tbody>
</table>
<p>In certain cases, users may wish to identify the area to which a
prefecture or province belongs. <code>regioncode</code> offers a
function to convert codes and names of the region (both prefectures and
provinces) into areas by setting the output format as “area”:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>, </span>
<span>           convert_to <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "华东" "华东" "华东" "华中" "华南" "华中" "华东" "西南" "华南" "华中"</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="linguistic-zone">Linguistic Zone<a class="anchor" aria-label="anchor" href="#linguistic-zone"></a>
</h4>
<p>China is a multilingual country with various dialects. These dialects
may be used across several prefectures in a province or even across
different provinces. For political and sociolinguistic studies,
<code>regioncode</code> includes a function to return approximate
linguistic zones of given geocodes or prefectural names. In the current
version, <code>regioncode</code> offers two levels of linguistic zone
identification: dialect groups (<code>dia_group</code>, “方言大类”) and
dialect sub-groups (<code>dia_sub_group</code>, “分区片”), according to
the 1987 language atlas of China <span class="citation">(Li, Xiong, and
Zhang 1987)</span>. (When <code>province = TRUE</code>, the linguistic
conversion can only be to the dialect group level.)</p>
<p>The following example converts the toy data to dialect groups and
sub-groups:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span></span>
<span>  city <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>,</span>
<span>  dialectGroup <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>,</span>
<span>           to_dialect <span class="op">=</span> <span class="st">"dia_group"</span><span class="op">)</span>,</span>
<span>  dialectSubGroup <span class="op">=</span> <span class="fu"><a href="../reference/regioncode.html">regioncode</a></span><span class="op">(</span>data_input <span class="op">=</span> <span class="va">corruption</span><span class="op">$</span><span class="va">prefecture</span>, </span>
<span>           year_from <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>           year_to <span class="op">=</span> <span class="fl">1989</span>,</span>
<span>           to_dialect <span class="op">=</span> <span class="st">"dia_sub_group"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 10 × 3</span></span></span>
<span><span class="co">##    city   dialectGroup dialectSubGroup                             </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                       </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 济南市 冀鲁官话     沧惠片-1,石济片-8                           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 泰州市 江淮官话     泰如片-1                                    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 松江区 吴语         太湖片-1                                    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 宜昌市 西南官话     成渝片-3,成渝片-9                           </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 来宾市 西南官话     桂柳片-10                                   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 怀化市 湘语         岑江片-2,吉溆片-3,娄邵片-1,黔北片-3,长益片-3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 莆田市 莆仙区       莆仙区-4                                    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 宜宾市 西南官话     灌赤片-10                                   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 定安县 琼文区       府城片-1                                    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 襄阳市 西南官话     鄂北片-10</span></span></code></pre>
<p>Note that the linguistic distribution in China is too complex for
precise gauging at the prefectural level, and it continually changes
with population dynamics. The linguistic zone output from
<code>regioncode</code> is thus for reference rather than rigorous
linguistic research.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p><code>regioncode</code> offers a convenient method for converting
Chinese administrative division codes, official names, and facilitating
various specific conversions. The development of the package is ongoing,
with future versions aiming to add more administrative level choices and
enriching data. Collaboration is welcome, and questions, comments, or
bug reports can be directed to <a href="https://github.com/sammo3182/regioncode/issues" class="external-link">Github
Issues</a>.</p>
<p>We extend our appreciation to LI Ruizhe, ZHU Meng, SHI Yuyang, XU
Yujia, PAN Yuxin, TIAN Haiting, SHAO Weihang, CHEN Yuanqian, and LIU
Xueyan for their contributions to data collection and function editing
of this package.</p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-LiEtAl1987" class="csl-entry">
Li, Rong, Zhenghui Xiong, and Zhenxing Zhang. 1987. <em>The Language
Atlas of China</em>. <span>London: Longman</span>.
</div>
<div id="ref-Wang2020c" class="csl-entry">
Wang, Yuhua. 2020. <span>“China’s Corruption Investigations
Dataset.”</span> <span>Harvard Dataverse</span>. <a href="https://doi.org/10.7910/DVN/9QZRAD" class="external-link">https://doi.org/10.7910/DVN/9QZRAD</a>.
</div>
<div id="ref-GuoJiaTongJiJu2022" class="csl-entry">
国家统计局. 2022a.
<span>“关于更新全国统计用区划代码和城乡划分代码的公告.”</span>
<span>中华人民共和国国家统计局</span>. <a href="http://www.stats.gov.cn/sj/tjbz/tjyqhdmhcxhfdm/2022/index.html" class="external-link">http://www.stats.gov.cn/sj/tjbz/tjyqhdmhcxhfdm/2022/index.html</a>.
</div>
<div id="ref-GuoJiaTongJiJu2022a" class="csl-entry">
———, ed. 2022b. <em>中国统计年鉴2022（附光盘）
中国城乡建设统计年鉴2021（2022年新书）</em>. 中国统计年鉴.
<span>中国统计出版社</span>. <a href="https://item.jd.com/10038568378953.html" class="external-link">https://item.jd.com/10038568378953.html</a>.
</div>
<div id="ref-SunPing2020" class="csl-entry">
孙平. 2020. <span>“把握新时代行政区划优化设置的着力点 -
中华人民共和国民政部.”</span> <em>中国社会报</em>, December 14, 2020. <a href="https://www.mca.gov.cn/n152/n166/c41451/content.html" class="external-link">https://www.mca.gov.cn/n152/n166/c41451/content.html</a>.
</div>
<div id="ref-MinZhengBu2022" class="csl-entry">
民政部. 2022. <span>“2021年中华人民共和国行政区划代码.”</span>
<span>中华人民共和国民政部</span>. <a href="https://www.mca.gov.cn/n156/n186/c110745/content.html" class="external-link">https://www.mca.gov.cn/n156/n186/c110745/content.html</a>.
</div>
</div>
</div>
<div class="section level2">
<h2 id="affiliation">Affiliation<a class="anchor" aria-label="anchor" href="#affiliation"></a>
</h2>
<p>Yue Hu</p>
<p>Department of Political Science,<br>
Tsinghua University,<br>
Email: <a href="mailto:yuehu@tsinghua.edu.cn" class="email">yuehu@tsinghua.edu.cn</a><br>
Website: <a href="https://sammo3182.github.io" class="external-link uri">https://sammo3182.github.io</a></p>
<p>Xinyi Ye</p>
<p>Department of Political Science,<br>
Tsinghua University,<br>
Email: <a href="mailto:yexy23@mails.tsinghua.edu.cn" class="email">yexy23@mails.tsinghua.edu.cn</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Yue Hu, Xinyi Ye, Yufei Sun, Wenquan Wu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
